(this.webpackJsonpGreatLakes=this.webpackJsonpGreatLakes||[]).push([[101],{1026:function(e,t,n){"use strict";var s=n(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},a=n(10),r=function(e,t){return s.createElement(a.a,Object.assign({},e,{ref:t,icon:c}))};r.displayName="LockOutlined";t.a=s.forwardRef(r)},3391:function(e,t,n){"use strict";n.r(t),n.d(t,"Login",(function(){return S}));var s=n(22),c=n.n(s),a=n(90),r=n(99),i=n(100),o=n(147),u=n(148),l=n(0),p=n(9),h=n(47),f=n(1476),g=n(578),d=n(433),b=n(120),j=n(658),m=n(1026),x=n(48),w=n(54),O=n(1474),y=n(3),v=function(e){var t=Object(w.g)(),n=e.showForgetPassword,s=e.hideAuthMessage,c=e.hideSuccessMessage,a=e.showLoading,r=e.extra,i=e.signIn,o=e.token,u=e.loading,p=e.redirect,h=e.showMessage,x=e.showSuccess,v=e.message,k=e.allowRedirect;return Object(l.useEffect)((function(){null!==o&&k&&t.push(p),h&&setTimeout((function(){s()}),3e3),x&&setTimeout((function(){c()}),4e3)})),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(O.a.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:h?1:0,marginBottom:h?20:0},children:Object(y.jsx)(f.a,{type:"error",showIcon:!0,message:v})}),Object(y.jsx)(O.a.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:x?1:0,marginBottom:x?20:0},children:Object(y.jsx)(f.a,{type:"success",showIcon:!0,message:v})}),Object(y.jsxs)(g.a,{layout:"vertical",name:"login-form",initialValues:{email:"",password:""},onFinish:function(e){a(),i(e)},children:[Object(y.jsx)(g.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please enter a validate email!"}],children:Object(y.jsx)(d.a,{prefix:Object(y.jsx)(j.a,{className:"text-primary"})})}),Object(y.jsx)(g.a.Item,{name:"password",label:Object(y.jsxs)("div",{className:"".concat(n?"d-flex justify-content-end w-100 align-items-center":""),children:[Object(y.jsx)("span",{children:"Password"}),n&&Object(y.jsx)("span",{onClick:function(){t.push("/auth/forgot-password")},className:"cursor-pointer font-size-sm font-weight-normal text-muted ml-1",children:"Forget Password?"})]}),rules:[{required:!0,message:"Please input your password"}],children:Object(y.jsx)(d.a.Password,{prefix:Object(y.jsx)(m.a,{className:"text-primary"})})}),Object(y.jsx)(g.a.Item,{children:Object(y.jsx)(b.a,{type:"primary",htmlType:"submit",block:!0,loading:u,children:"Sign In"})}),r]})]})};v.defaultProps={otherSignIn:!1,showForgetPassword:!0};var k={signIn:x.h,showAuthMessage:x.e,showLoading:x.f,hideAuthMessage:x.b,showSuccessMessage:x.g,hideSuccessMessage:x.c},B=Object(h.b)((function(e){var t=e.auth;return{loading:t.loading,message:t.message,showMessage:t.showMessage,showSuccess:t.showSuccess,token:t.token,redirect:t.redirect}}),k)(v),D=n(524),A=n(525),R=n(540),E={backgroundImage:"url(/img/others/img-17.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},M=function(e){var t=Object(w.g)(),n=Object(h.c)((function(e){return e.theme.currentTheme}));return Object(y.jsx)("div",{className:"h-100",style:E,children:Object(y.jsx)("div",{className:"container d-flex flex-column justify-content-center h-100",children:Object(y.jsx)(D.a,{justify:"center",children:Object(y.jsx)(A.a,{xs:20,sm:20,md:18,lg:12,children:Object(y.jsx)(R.a,{children:Object(y.jsxs)("div",{className:"my-3",children:[Object(y.jsx)("div",{className:"text-center",children:Object(y.jsx)("img",{className:"img-fluid",src:"/img/".concat("light"===n?"logo.png":"logo-white.png"),alt:""})}),Object(y.jsxs)(D.a,{justify:"center",children:[Object(y.jsx)(A.a,{xs:24,sm:24,md:20,lg:20,children:Object(y.jsx)(B,Object(p.a)({},e))}),Object(y.jsxs)("p",{children:["Don't have an account yet? ",Object(y.jsx)("a",{href:"/#",onClick:function(e){e.preventDefault(),t.push("/auth/register")},children:"Sign Up"})]})]})]})})})})})})},N=n(15),I=n(16),S=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={accountsDB:new I.a("accounts"),clientsDB:new I.a("clients"),clientsBalanceDB:new I.a("clientsBalance"),inspectionsDB:new I.a("inspections"),paidDB:new I.a("paid"),paymentsDB:new I.a("payments"),receiptsDB:new I.a("receipts"),settingsDB:new I.a("settings"),sitesDB:new I.a("sites"),tapsDB:new I.a("taps"),usersDB:new I.a("users"),userDB:new I.a("user")},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.accountsDB,n=e.clientsDB,s=e.clientsBalanceDB,r=e.inspectionsDB,i=e.paidDB,o=e.paymentsDB,u=e.receiptsDB,l=e.sitesDB,p=e.settingsDB,h=e.tapsDB,f=e.userDB;return N.b.disableNetwork().then((function(){function e(){return(e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("accounts").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,t.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("clients").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,n.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("clientsBalance").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,s.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("inspections").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,r.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("paid").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,i.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("payments").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,o.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("receipts").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,u.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("settings").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,p.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("sites").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,l.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("taps").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,h.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.collection("user").get();case 2:if(0!==e.sent.docs.length){e.next=8;break}return e.next=6,f.getAllRows();case 6:e.sent.forEach((function(e){}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){g.apply(this,arguments)}(),function(){d.apply(this,arguments)}(),function(){b.apply(this,arguments)}(),function(){j.apply(this,arguments)}(),function(){m.apply(this,arguments)}(),function(){x.apply(this,arguments)}(),function(){w.apply(this,arguments)}(),function(){O.apply(this,arguments)}(),function(){y.apply(this,arguments)}(),function(){v.apply(this,arguments)}(),N.b.enableNetwork()})),Object(y.jsx)(M,{allowRedirect:!0})}}]),n}(l.Component);t.default=S}}]);
//# sourceMappingURL=101.a0c8d824.chunk.js.map